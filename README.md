# 学生管理系统（Java 控制台版）

一个基于 **Java** 编写的控制台学生管理系统，包含登录/注册/找回密码的用户系统，以及对学生信息的增删改查（CRUD）功能。  
项目主要用于练习 Java 基础语法、流程控制、集合、输入校验和异常处理，同时模拟一个简单但较完整的“小型业务系统”。

---

## 功能概览

### 1. 用户系统

- **用户注册**
  - 用户名要求：
    - 长度 3–15 个字符
    - 只能包含数字和大小写字母
    - 不能为纯数字（必须至少包含一个字母）
    - 不允许与已有用户名重复
  - 密码：
    - 需输入两次，确保一致
  - 身份证号：
    - 必须为 18 位
    - 首位不能为 `0`
    - 前 17 位必须为数字
    - 最后一位只能为数字或 `X`/`x`
  - 手机号：
    - 必须为 11 位
    - 首位不能为 `0`
    - 必须全部为数字
  - 注册成功后，会打印完整的账号信息（用户名、密码、身份证号、手机号）。

- **用户登录**
  - 若当前没有任何已注册用户，会提示“请先注册账号”并返回主菜单。
  - 输入用户名时：
    - 先检查格式是否符合要求
    - 再检查该用户是否存在
  - 密码输入：
    - 每次输入密码后，需要通过 **验证码** 验证：
      - 验证码为 5 位，前 4 位为随机大小写字母，最后一位为数字
      - 验证码顺序经过随机打乱
      - 验证码比较时 **不区分大小写**
    - 验证码输错不会增加密码错误次数，只会重新生成验证码继续输入
    - 密码输错会增加错误计数：
      - 最多允许输入错误 3 次密码
      - 超过 3 次后会提示“请重新登录”，并返回主菜单
  - 登录成功后进入“学生管理系统”。

- **忘记密码**
  - 如果没有任何已注册用户，同样会提示“请先注册账号”并返回。
  - 流程：
    1. 输入用户名（先校验格式，再检查是否存在）
    2. 输入身份证号（先校验格式，再继续）
    3. 输入手机号（先校验格式，再继续）
    4. 若身份证号与手机号与系统中的记录均匹配：
       - 允许用户输入新密码，并要求 **输入两次确认**
       - 修改成功后打印更新后的账号信息
    5. 若验证失败，则提示“验证失败，无法修改密码”。

---

### 2. 学生管理系统

登录成功后进入学生系统界面：

- 菜单选项：
  1. 添加学生信息
  2. 删除学生信息
  3. 修改学生信息
  4. 查询学生信息
  5. 退出（返回登录主菜单）

所有学生信息存储在内存中的 `ArrayList<Student>` 中，每个学生包含：

- 学生编号（ID）
- 姓名
- 年龄
- 地址

#### 2.1 添加学生信息

- 依次输入：
  - 学生编号（ID）  
    - 若与已有编号重复，则提示重新输入，直到输入唯一 ID
  - 学生姓名
  - 学生年龄  
    - 使用字符串读取 + `Integer.parseInt` 转换
    - 如果输入的不是数字，会捕获 `NumberFormatException`，提示“年龄必须是数字，请重新输入”，并要求重新输入年龄
  - 学生地址
- 添加成功后打印该学生的完整信息。

#### 2.2 删除学生信息

- 输入要删除的学生编号：
  - 直接回车：取消删除，返回学生菜单
  - 若编号不存在：
    - 提示“没有此编号学生，请重新输入或按回车退出”
    - 可继续输入其他编号或直接回车退出
- 若编号存在：
  - 从列表中移除该学生，并提示“学生信息已删除成功”。

#### 2.3 修改学生信息

- 输入要修改的学生编号：
  - 直接回车：取消修改，返回学生菜单
  - 若编号不存在：
    - 提示“没有此编号学生，请重新输入或按回车退出”
- 找到学生后显示原信息：
  - 依次允许用户输入：
    - 新姓名（回车则跳过不修改）
    - 新年龄（回车则跳过；若输入非数字则忽略本次年龄修改并给出提示）
    - 新地址（回车则跳过）
- 支持只修改某一项或多项。
- 修改完成后打印更新后的学生信息。

#### 2.4 查询学生信息

- 若当前没有任何学生信息：
  - 提示“暂无学生信息可供查询”
- 否则：
  - 以列表形式打印所有学生信息：`id / 姓名 / 年龄 / 地址`

---

## 项目结构

```text
.
├── Main.java        // 程序入口，包含用户系统 + 学生系统入口
├── User.java        // 用户实体类（用户名、密码、身份证号、手机号）
└── Student.java     // 学生实体类（编号、姓名、年龄、地址）
